data1 <- read.csv("/data-w1/getdata-data-ss06hid.csv")
getdata.data.ss06hid <- read.csv("~/Documents/datasciencecoursera/Quiz/data-w1/getdata-data-ss06hid.csv", header=FALSE)
View(getdata.data.ss06hid)
data1 <- read.csv("~/data-w1/getdata-data-ss06hid.csv")
data1 <- read.csv("data-w1/getdata-data-ss06hid.csv")
head(data1)
head(data1$VAL)
length(data1[data1==RT])
length(data1[data1$RT==24])
length(data1[data1$VAL==24])
nrow(data1[data1$VAL==24])
nrow(data1[,data1$VAL==24])
data1[,data1$VAL==24]
data1$VAL==24
data1$VAL
data1$VAL==24
jd <- data1$VAL==24
sum(jd)
sum(jd,na.rm=TRUE)
data1$FES
table(data1$FES)
getdata.data.DATA.gov_NGAP <- read.table("~/Documents/datasciencecoursera/Quiz/data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=TRUE, quote="\"")
View(getdata.data.DATA.gov_NGAP)
data2 <- read.table("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=TRUE, quote="\"")
data2 <- read.table("data-w1/getdata-data-DATA.gov_NGAP.xlsx", quote="\"")
head(data2)
data2 <- read.table("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=TRUE, quote="\"", nrows = 1)
data2
data2 <- read.table("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=TRUE, quote="\"", nrows = 1:3)
data2
data2 <- read.table("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=FALSE, quote="\"", nrows = 1:3)
data2 <- read.table("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=FALSE, quote="\"", rows = 1:3)
data2 <- read.csv("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=FALSE, quote="\"", rows = 1:3)
data2 <- read.csv("data-w1/getdata-data-DATA.gov_NGAP.xlsx", header=FALSE, quote="\"", nrows = 3)
col_index <- 7:15
row_index <- 18:23
data2 <- read.xlsx("data-w1/getdata-data-DATA.gov_NGAP.xlsx",sheetIndex=1, colIndex=col_index, rowIndex=row_index)
install.packages("read.xlsx")
install.packages("read.xlsx2")
install.packages("XLConnect")
data2 <- read.xlsx("data-w1/getdata-data-DATA.gov_NGAP.xlsx",sheetIndex=1, colIndex=col_index, rowIndex=row_index)
install.packages(xlsx)
library(XML)
library(XML)
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(fileURL, useInternal=TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(fileURL, useInternal=TRUE)
fileURL <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(fileURL, useInternal=TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
names(rootNode)
rootNode[[1]]
rootNode[[1][1]]
rootNode[[1]][[1]]
xmlSApply(rootNode, xmlValue)
xpathSApply(rootNode,"//name",xmlValue)
xpathSApply(rootNode,"//zipcode",xmlValue)
ct <- xpathSApply(rootNode,"//zipcode==21231",xmlValue)
ct <- xpathSApply(rootNode,"//zipcode=21231",xmlValue)
ct
ct[ct=21231]
class(ct)
xmlSApply(rootNode, xmlValue)
ct <- xpathSApply(rootNode,"//zipcode",xmlValue)
ct[ct=21231]
ct
ct[1]
ct[ct==21231]
count(ct[ct==21231])
length(ct[ct==21231])
install.packages("readxl")
library(readxl)
?readxl
data3 <- read_excel("data-w1/getdata-data-DATA.gov_NGAP.xlsx")
View(data3)
data3 <- read_excel("data-w1/getdata-data-DATA.gov_NGAP.xlsx",range = "C1:E4")
View(data3)
View(data3)
data3 <- read_excel("data-w1/getdata-data-DATA.gov_NGAP.xlsx",range = "G18:O23")
sum(dat$Zip*dat$Ext,na.rm=T)
dat <- read_excel("data-w1/getdata-data-DATA.gov_NGAP.xlsx",range = "G18:O23")
sum(dat$Zip*dat$Ext,na.rm=T)
download.file(fileURL2,destfile = "/data-w1.dataQ5.csv",method=curl)
download.file(fileURL2,destfile = "/data-w1.dataQ5.csv",method="curl")
fileURL2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileURL2,destfile = "/data-w1.dataQ5.csv",method="curl")
download.file(fileURL2,destfile = "/data-w1/dataQ5.csv",method="curl")
fileURL2 <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileURL2,destfile = "/data-w1/dataQ5.csv",method="curl")
download.file(fileURL2,destfile = "data-w1/dataQ5.csv",method="curl")
DT
print(dateDownloaded)
dateDownloaded <- date()
print(dateDownloaded)
library(data.table)
install.packages(data.table)
install.packages("data.table")
system.time(DT[,mean(pwgtp15),by=SEX])
DT <- fread(input="dataQ5.csv", sep=",")
install.packages("fread")
install.packages("fread2")
install.packages("fread3")
Dt <- read.csv("data-w1/dataQ5.csv")
head(Dt)
DT <- read.csv("data-w1/dataQ5.csv")
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(DT[,mean(pwgtp15),by=SEX])
?DT
DT
head(DT)
head(DT$SEX)
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT[DT$SEX==1,]$pwgtp15))
system.time(mean(DT[DT$SEX==2,]$pwgtp15))
system.time(mean(DT$pwgtp15,by=DT$SEX))
data1$FES
head(data1)
class(data1$FES)
data2 <- read.csv("data-w1/getdata-data-ss06pid.csv")
data2 <- read.csv("data-w2/getdata-data-ss06pid.csv")
install.packages(sqldf)
install.packages("sqldf")
library(sqldf)
acs <- read.csv("data-w2/getdata-data-ss06pid.csv")
if(!require("sqldf")){
install.packages("sqldf")
library("sqldf")
}
sqldf("select pwgtp1 from acs where AGEP < 50")
unique(acs$AGEP)
sqldf("select unique AGEP from acs")
sqldf("select distinct AGEP from acs")
summary(sqldf("select distinct AGEP from acs"))
hist(sqldf("select distinct AGEP from acs"))
table(sqldf("select distinct AGEP from acs"))
rs==ts
ts <- unique(acs$AGEP)
## sqldf("select unique AGEP from acs")
rs <- sqldf("select distinct AGEP from acs")
rs==ts
sqldf("select AGEP where unique from acs")
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode
htmlCode[1]
nchar(htmlCode[1])
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
x <- read.fwf(
file=url("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
)
# Question 5
x <- read.fwf(
file=url("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=2,
widths=c(14, 13, 13, 13, 8))
x
View(x)
# Question 5
x <- read.fwf(
file=url("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=2,
widths=c(14, 13, 13, 13, 9))
x <- read.fwf(
file=url("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=2,
widths=c(14,4,9,4,9,4,9,4,5))
# Question 5
x <- read.fwf(
file=url("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=2,
widths=c(14,5,9,4,9,4,9,4,5))
# Question 1
# Question 2
acs <- read.csv("data-w2/getdata-data-ss06pid.csv")
if(!require("sqldf")){
install.packages("sqldf")
library("sqldf")
}
sqldf("select pwgtp1 from acs where AGEP < 50")
# Question 3
ts <- unique(acs$AGEP)
## sqldf("select unique AGEP from acs")
rs <- sqldf("select distinct AGEP from acs")
rs==ts
### the answer is sqldf("select distinct AGEP from acs")
## sqldf("select AGEP where unique from acs")
# Question 4
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
### 45,31,7,25
# Question 5
x <- read.fwf(
file=url("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=4,
widths=c(14,5,9,4,9,4,9,4,5))
sum(x$V4)
if(!require("jpeg")){
install.packages("jpeg")
library("jpeg")
}
?jpeg
pic1<- jpeg("getdata-jeff.jpg",native=TRUE)
pic1<- jpeg("getdata-jeff.jpg")
pic1
pic1[30]
pic1<- jpeg("getdata-jeff.jpg")
length(pic1)
pic1<- readJPEG("getdata-jeff.jpg", native = TRUE)
if(!require("jpeg")){
install.packages("jpeg")
library(jpeg)
}
pic1<- readJPEG("getdata-jeff.jpg", native = TRUE)
# Question 3
pic1<- readJPEG('/data-w3/getdata-jeff.jpg', native = TRUE)
pic1<- readJPEG('data-w3/getdata-jeff.jpg', native = TRUE)
pic1
?quantiles
?quantile
quantile(pic1, probs = seq(0.3,0.8)
quantile(pic1, probs = seq(0.3,0.8))
quantile(pic1, probs = seq(0.3,0.8))
quantile(pic1, probs = 0.3)
quantile(pic1, probs = 0.8)
getdata.data.EDSTATS_Country <- read.csv("~/Documents/datasciencecoursera/Quiz/data-w3/getdata-data-EDSTATS_Country.csv", header=FALSE)
View(getdata.data.EDSTATS_Country)
getdata.data.GDP <- read.csv("~/Documents/datasciencecoursera/Quiz/data-w3/getdata-data-GDP.csv", header=FALSE)
View(getdata.data.GDP)
data_EDSTATS_Country <- read.csv("data-w3/getdata-data-EDSTATS_Country.csv", header=FALSE)
data_GDP <- read.csv("data-w3/getdata-data-GDP.csv", header=FALSE)
head(data_GDP)
head(data_EDSTATS_Country)
head(data_GDP,20)
data_GDP <- read.csv("data-w3/getdata-data-GDP.csv", header=TRUE)
head(data_GDP,20)
data_EDSTATS_Country <- read.csv("data-w3/getdata-data-EDSTATS_Country.csv", header=FALSE)
data_GDP <- read.csv("data-w3/getdata-data-GDP.csv", header=FALSE)
head(data_GDP,20)
head(data_EDSTATS_Country,20)
View(data_EDSTATS_Country)
View(data_EDSTATS_Country)
View(data_GDP)
unique(data_EDSTATS_Country$V1)
data_EDSTATS_Country <- read.csv("data-w3/getdata-data-EDSTATS_Country.csv", header=FALSE)
colnames(data_EDSTATS_Country) <- data_EDSTATS_Country[1,]
colnames(data_EDSTATS_Country)
colnames(data_EDSTATS_Country)
data_EDSTATS_Country[1,]
colnames(data_EDSTATS_Country) <- as.character(data_EDSTATS_Country[1,])
colnames(data_EDSTATS_Country)
data_EDSTATS_Country[1,]
unique(data_EDSTATS_Country$V1)
unique(data_EDSTATS_Country[,1])
unique(data_GDP[,1])
order(unique(data_GDP[,1])
)
order('d','a','b')
place('d','a','b')
arrange('d','a','b',)
sort('d','a','b',)
sort(c('d','a','b'))
sort(unique(data_GDP[,1]))
intersect(unique(data_GDP[,1]), unique(data_EDSTATS_Country[,1]))
length(intersect(unique(data_GDP[,1]), unique(data_EDSTATS_Country[,1])))
length(intersect(data_GDP[,1], data_EDSTATS_Country[,1]))
head(data_GDP)
head(data_GDP,20)
data_EDSTATS_Country <- read.csv("data-w3/getdata-data-EDSTATS_Country.csv", header=TRUE)
data_GDP <- read.csv("data-w3/getdata-data-GDP.csv", header=TRUE)
head(data_GDP,20)
data_EDSTATS_Country <- read.csv("data-w3/getdata-data-EDSTATS_Country.csv", header=FALSE)
data_GDP <- read.csv("data-w3/getdata-data-GDP.csv", header=FALSE)
head(data_GDP,20)
data_GDP[order(data_GDP$V2),]
new <- data_GDP[order(data_GDP$V2),]
head(new)
head(new,20)
data_GDP
data_GDP$V3
data_GDP$V2
data_GDP[183,]
data_GDP[182:184,]
sort(unique(data_GDP[,1]))
length(intersect(data_GDP[,1], data_EDSTATS_Country[,1]))
head(data_GDP)
head(data_GDP,10)
head(data_EDSTATS_Country,10)
?merge
merge(data_EDSTATS_Country,data_GDP,bydata_GDP$V2))
merge(data_EDSTATS_Country,data_GDP,bydata_GDP$V2)
merge(data_EDSTATS_Country,data_GDP,by=data_GDP$V2)
merge(data_EDSTATS_Country,data_GDP,by=unique(data_GDP$V2))
# Q1
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
f <- file.path(getwd(), "ss06hid.csv")
download.file(url, f)
dt <- data.table(read.csv(f))
varNames <- names(dt)
varNamesSplit <- strsplit(varNames, "wgtp")
varNamesSplit[[123]]
# Q1
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
f <- file.path(getwd(), "data-w4/ss06hid.csv")
download.file(url, f)
dt <- data.table(read.csv(f))
varNames <- names(dt)
varNamesSplit <- strsplit(varNames, "wgtp")
varNamesSplit[[123]]
packages <- c("data.table", "quantmod")
sapply(packages, require, character.only=TRUE, quietly=TRUE)
f <- file.path(getwd(), "data-w4/ss06hid.csv")
download.file(url, f)
dt <- data.table(read.csv(f))
varNames <- names(dt)
varNamesSplit <- strsplit(varNames, "wgtp")
varNamesSplit[[123]]
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
f <- file.path(getwd(), "GDP.csv")
download.file(url, f)
dtGDP <- data.table(read.csv(f, skip=4, nrows=215, stringsAsFactors=FALSE))
dtGDP <- dtGDP[X != ""]
dtGDP <- dtGDP[, list(X, X.1, X.3, X.4)]
setnames(dtGDP, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP", "Long.Name", "gdp"))
gdp <- as.numeric(gsub(",", "", dtGDP$gdp))
mean(gdp, na.rm=TRUE)
isUnited <- grepl("^United", dtGDP$Long.Name)
summary(isUnited)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
f <- file.path(getwd(), "EDSTATS_Country.csv")
download.file(url, f)
dtEd <- data.table(read.csv(f))
dt <- merge(dtGDP, dtEd, all=TRUE, by=c("CountryCode"))
isFiscalYearEnd <- grepl("fiscal year end", tolower(dt$Special.Notes))
isJune <- grepl("june", tolower(dt$Special.Notes))
table(isFiscalYearEnd, isJune)
dt[isFiscalYearEnd & isJune, Special.Notes]
library(quantmod) amzn = getSymbols("AMZN",auto.assign=FALSE) sampleTimes = index(amzn)
amzn <- getSymbols("AMZN",auto.assign=FALSE)
sampleTimes <- index(amzn)
addmargins(table(year(sampleTimes), weekdays(sampleTimes)))
